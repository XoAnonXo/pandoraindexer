FROM node:20-alpine

WORKDIR /app

# Скопировать package.json и установить зависимости
COPY scripts/package.json scripts/package-lock.json ./
RUN npm ci --production

# Скопировать скрипт
COPY scripts/recalculate-volume24h.ts ./

# Запустить
CMD ["npx", "tsx", "recalculate-volume24h.ts"]